---
permalink: fas500f/bootmedia-transfer-boot-image.html 
sidebar: sidebar 
keywords: fas500f, transfer, boot, image, media, controller, module 
summary: 您安装的替代启动介质没有启动映像，因此您需要使用 USB 闪存驱动器传输启动映像。 
---
= 将启动映像传输到启动介质— FAS500f
:icons: font
:imagesdir: ../media/


[role="lead"]
您安装的替代启动介质没有启动映像，因此您需要使用 USB 闪存驱动器传输启动映像。

* 您必须具有一个 USB 闪存驱动器，该驱动器已格式化为 MBR/FAT32 ，并且容量至少为 4 GB
* 与受损控制器运行的 ONTAP 映像版本相同的副本。您可以从 NetApp 支持站点上的 * 下载 * 部分下载相应的映像
+
** 如果启用了 NVE ，请按照下载按钮中的指示，使用 NetApp 卷加密下载映像。
** 如果未启用 NVE ，请按照下载按钮中的指示，在不使用 NetApp 卷加密的情况下下载映像。


* 如果您的系统是 HA 对，则必须具有网络连接。
* 如果您的系统是独立系统，则不需要网络连接，但在还原 var 文件系统时，您必须执行额外的重新启动。


.步骤
. 将相应的服务映像从 NetApp 支持站点下载并复制到 USB 闪存驱动器。
+
.. 将服务映像下载到笔记本电脑上的工作空间。
.. 解压缩服务映像。
+

NOTE: 如果要使用 Windows 提取内容，请勿使用 WinZip 提取网络启动映像。使用其他提取工具，例如 7-Zip 或 WinRAR 。

+
解压缩的服务映像文件中有两个文件夹：

+
*** /boot
*** EFI


.. 将 EFI 文件夹复制到 USB 闪存驱动器上的顶部目录。
+
USB 闪存驱动器应具有 EFI 文件夹，并且与受损控制器运行的服务映像（ BIOS ）版本相同。

.. 从笔记本电脑中取出 USB 闪存驱动器。


. 如果尚未安装此通风管，请安装此通风管。
+
image::../media/drw_a250_install_airduct_cover.png[DRW A250 安装通风管盖]

. 合上控制器模块盖并拧紧翼形螺钉。
+
image::../media/drw_a250_close_controller_module_cover.png[DRW A250 合上控制器模块盖]

+
|===


 a| 
image:../media/legend_icon_01.png[""]



 a| 
控制器模块盖板



 a| 
image:../media/legend_icon_02.png[""]



 a| 
翼形螺钉

|===
. 将控制器模块的末端与机箱中的开口对齐，然后将控制器模块轻轻推入系统的一半。
. 将电源线插入电源，然后重新安装电源线固定器。
. 将 USB 闪存驱动器插入控制器模块上的 USB 插槽。
+
确保将 USB 闪存驱动器安装在标有 USB 设备的插槽中，而不是 USB 控制台端口中。

. 将控制器模块完全推入机箱：
+
.. 将食指从锁定装置内侧的指孔中穿过。
.. 用拇指向下按压闩锁装置顶部的橙色卡舌，然后将控制器模块轻轻推至停止位置上方。
.. 从锁定机制顶部释放拇指，然后继续推动，直到锁定机制卡入到位。
+
控制器模块一旦完全固定在机箱中，就会开始启动。准备中断启动过程。



+
控制器模块应完全插入，并与机箱边缘平齐。

. 尽管环境变量和 bootarg 已保留，但您应使用 `printenv bootarg name` 命令检查是否已为您的系统类型和配置正确设置所有必需的启动环境变量和 bootarg ，并使用 `setenv variable-name <value>` 命令更正任何错误。
+
.. 检查启动环境变量：
+
*** `bootarg.init.boot_clustered`
*** `partner-sysid`
*** `bootarg.init.flash_optimized` ，适用于 AFF C190/AFF A220 （全闪存 FAS ）
*** `bootarg.init.san_optimized` ，适用于 AFF A220 和全 SAN 阵列
*** `bootarg.init.switchless_cluster.enable`


.. 如果已启用外部密钥管理器，请检查 `kenv` ASUP 输出中列出的 bootarg 值：
+
*** `bootarg.storageencryption.support <value>`
*** `bootarg.keymanager.support <value>`
*** `kmip.init.interface <value>`
*** `kmip.init.ipaddr <value>`
*** `kmip.init.netmask <value>`
*** `kmip.init.gateway <value>`


.. 如果启用了板载密钥管理器，请检查 `kenv` ASUP 输出中列出的 bootarg 值：
+
*** `bootarg.storageencryption.support <value>`
*** `bootarg.keymanager.support <value>`
*** `bootarg.bontery_keymanager <value>`


.. 保存使用 ` * savenv*` 命令更改的环境变量
.. 使用 ` * printenv _variable-name_*` 命令确认所做的更改。



